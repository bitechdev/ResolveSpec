# ResolveSpec Test Server Configuration
# This is a minimal configuration for the test server

servers:
  default_server: "main"
  shutdown_timeout: 30s
  drain_timeout: 25s
  read_timeout: 10s
  write_timeout: 10s
  idle_timeout: 120s
  instances:
    main:
      name: "main"
      host: "localhost"
      port: 8080
      description: "Main server instance"
      gzip: true
      tags:
        env: "test"

logger:
  dev: true
  path: ""

cache:
  provider: "memory"

middleware:
  rate_limit_rps: 100.0
  rate_limit_burst: 200
  max_request_size: 10485760

cors:
  allowed_origins:
    - "*"
  allowed_methods:
    - "GET"
    - "POST"
    - "PUT"
    - "DELETE"
    - "OPTIONS"
  allowed_headers:
    - "*"
  max_age: 3600

tracing:
  enabled: false
  service_name: "resolvespec"
  service_version: "1.0.0"
  endpoint: ""

error_tracking:
  enabled: false
  provider: "noop"
  environment: "development"
  sample_rate: 1.0
  traces_sample_rate: 0.1

event_broker:
  enabled: false
  provider: "memory"
  mode: "sync"
  worker_count: 1
  buffer_size: 100
  instance_id: ""

dbmanager:
  default_connection: "primary"
  max_open_conns: 25
  max_idle_conns: 5
  conn_max_lifetime: 30m
  conn_max_idle_time: 5m
  retry_attempts: 3
  retry_delay: 1s
  health_check_interval: 30s
  enable_auto_reconnect: true
  connections:
    primary:
      name: "primary"
      type: "sqlite"
      filepath: "test.db"
      default_orm: "gorm"
      enable_logging: true
      enable_metrics: false
      connect_timeout: 10s
      query_timeout: 30s

paths: {}
