# ResolveSpec Test Server Configuration
# This is a minimal configuration for the test server

server:
  addr: ":8080"
  shutdown_timeout: 30s
  drain_timeout: 25s
  read_timeout: 10s
  write_timeout: 10s
  idle_timeout: 120s

logger:
  dev: true  # Enable development mode for readable logs
  path: ""   # Empty means log to stdout

cache:
  provider: "memory"

middleware:
  rate_limit_rps: 100.0
  rate_limit_burst: 200
  max_request_size: 10485760  # 10MB

cors:
  allowed_origins:
    - "*"
  allowed_methods:
    - "GET"
    - "POST"
    - "PUT"
    - "DELETE"
    - "OPTIONS"
  allowed_headers:
    - "*"
  max_age: 3600

tracing:
  enabled: false

# Database Manager Configuration
dbmanager:
  default_connection: "primary"
  max_open_conns: 25
  max_idle_conns: 5
  conn_max_lifetime: 30m
  conn_max_idle_time: 5m
  retry_attempts: 3
  retry_delay: 1s
  health_check_interval: 30s
  enable_auto_reconnect: true

  connections:
    primary:
      name: "primary"
      type: "sqlite"
      filepath: "test.db"
      default_orm: "gorm"
      enable_logging: true
      enable_metrics: false
      connect_timeout: 10s
      query_timeout: 30s
